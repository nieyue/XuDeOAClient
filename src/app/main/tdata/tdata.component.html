<!-- 任务视图按钮 -->
<div class="btn btn-lg btn-primary" *ngFor="let checktdata of checktdataList" (click)="toggleListTdata(checktdata)"   style="margin:30px 0;" >{{checktdata.menu}}</div>
<!-- 任务视图按钮end -->
 
<!-- 页面列表 -->
<div class='loadAnimation' *ngIf="showTdataListIcon" style='z-index:99999'><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></div>
<table class="table text-center table-striped"  style="border:2px solid #999;box-shadow:0 0 10px #999;" *ngIf=" daysShow && tdataList.length > 0  && !showTdataListIcon " >

 <thead>
      <tr > 
         <th class="text-center">序号</th>
         <th class="text-center">时间</th>
         <th class="text-center">任务名称</th>
         <th class="text-center">日总人数</th>
         <th class="text-center">日留存总人数</th>
         <th class="text-center">日留存率</th>
      </tr>
   </thead>
   <tbody>
      <tr  *ngFor="let tdata of tdataList;let index=index" > 
        <td class="text-center">{{(currentPage-1)*pageNumber+index+1}}</td>
         <td class="text-center">{{tdata.update_date}}</td>
         <td class="text-center">{{tdata.name}}</td>
         <td class="text-center">{{tdata.days_date}}</td>
         <td class="text-center">{{tdata.days_total_number}}</td>
         <td class="text-center">{{tdata.days_retain_number}}</td>
         <td class="text-center">{{(tdata.days_retain_number/tdata.days_total_number)*100 | ratio:'2' }}%</td>
      </tr>   
   </tbody>
</table>
<table class="table text-center table-striped"  style="border:2px solid #999;box-shadow:0 0 10px #999;" *ngIf=" weeksShow && tdataList.length > 0  && !showTdataListIcon " >

 <thead>
      <tr > 
         <th class="text-center">序号</th>
         <th class="text-center">时间</th>
         <th class="text-center">任务名称</th>
         <th class="text-center">周总人数</th>
         <th class="text-center">周留存总人数</th>
         <th class="text-center">周留存率</th>
      </tr>
   </thead>
   <tbody>
      <tr  *ngFor="let tdata of tdataList;let index=index" > 
        <td class="text-center">{{(currentPage-1)*pageNumber+index+1}}</td>
         <td class="text-center">{{tdata.update_date}}</td>
         <td class="text-center">{{tdata.name}}</td>
         <td class="text-center">{{tdata.weeks_date}}</td>
         <td class="text-center">{{tdata.weeks_total_number}}</td>
         <td class="text-center">{{tdata.weeks_retain_number}}</td>
         <td class="text-center">{{(tdata.weeks_retain_number/tdata.weeks_total_number)*100 | ratio:'2' }}%</td>
      </tr>   
   </tbody>
</table>
<table class="table text-center table-striped"  style="border:2px solid #999;box-shadow:0 0 10px #999;" *ngIf=" monthsShow && tdataList.length > 0  && !showTdataListIcon " >

 <thead>
      <tr > 
         <th class="text-center">序号</th>
         <th class="text-center">时间</th>
         <th class="text-center">任务名称</th>
         <th class="text-center">月总人数</th>
         <th class="text-center">月留存总人数</th>
         <th class="text-center">月留存率</th>
      </tr>
   </thead>
   <tbody>
      <tr  *ngFor="let tdata of tdataList;let index=index" > 
        <td class="text-center">{{(currentPage-1)*pageNumber+index+1}}</td>
         <td class="text-center">{{tdata.update_date}}</td>
         <td class="text-center">{{tdata.name}}</td>
         <td class="text-center">{{tdata.months_date}}</td>
         <td class="text-center">{{tdata.months_total_number}}</td>
         <td class="text-center">{{tdata.months_retain_number}}</td>
         <td class="text-center">{{(tdata.months_retain_number/tdata.months_total_number)*100 | ratio:'2' }}%</td>
      </tr>   
   </tbody>
</table>
<!-- 页面列表end -->

<!-- 加载更多end -->
    <ul class="pagination " >
    <li><a (click)="toPage('首页')" >首页</a></li>
    <li class="previous" ><a (click)="toPage('previous')" >&larr;</a></li>

    <li *ngFor="let currentPageNumber of showPageNumberArray"><a (click)="toPage(currentPageNumber)" [ngClass]="{active:currentPageNumber==currentPage}">{{currentPageNumber}}</a></li>

    <li class="next"  ><a (click)="toPage('next')" >&rarr;</a></li>
    <li><a (click)="toPage('尾页')" >尾页</a></li>
    <li> <span>总页数：{{totalPage}}</span></li>
    <li><span>总数：{{totalNumber}}</span></li>
    </ul>
<!--  加载更多end -->